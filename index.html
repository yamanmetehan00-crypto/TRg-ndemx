<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>GündemX – Gündeme Net Bakış</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root{
  --primary:#0066ff;
  --dark:#0b1220;
  --bg:#f4f7fb;
  --text:#1e293b;
  --card-bg:#fff;
  --card-shadow:0 6px 16px rgba(0,0,0,0.05);
  --highlight:#1e88e5;
}
*{box-sizing:border-box;}
body{margin:0;font-family:Inter,Arial,sans-serif;background:var(--bg);color:var(--text);}
a{text-decoration:none;color:inherit;}

/* LOADING */
#loading-screen{
position:fixed; inset:0; background:#fff;
display:flex; align-items:center; justify-content:center; z-index:9999;
}
.x-loader{
font-size:140px; font-weight:900; color:transparent;
-webkit-text-stroke:4px var(--primary);
background:linear-gradient(to top,var(--primary) 0%,var(--primary) 50%,transparent 50%);
background-size:100% 200%; background-position:bottom;
-webkit-background-clip:text; background-clip:text;
animation:fillX 2.5s ease forwards;
}
@keyframes fillX{from{background-position:bottom} to{background-position:top}}

/* HEADER */
header{
background:var(--dark); color:#fff;
padding:14px 20px; display:flex;
justify-content:space-between; align-items:center;
flex-wrap: wrap;
}
.logo{font-size:26px;font-weight:800}
.logo span{color:var(--primary)}
.social-header{display:flex;gap:10px;margin-left:12px}
.social-link{text-decoration:none;color:#fff;background:var(--primary);padding:4px 8px;border-radius:4px;font-weight:600;transition:all 0.3s ease}
.social-link:hover{background:#004fcc;transform:scale(1.05)}
nav a{margin-left:16px;font-size:14px;opacity:.9}
@media(max-width:768px){header{flex-direction:column;align-items:center} .social-header{margin:8px 0;justify-content:center} nav{display:none}}

/* TOP SLIDER */
.top-slider{position:relative;overflow:hidden;width:80%;max-width:1000px;height:360px;margin:20px auto;border-radius:12px;box-shadow:0 8px 20px rgba(0,0,0,0.1);}
.slide{width:100%;height:100%;position:absolute;top:0;left:100%;transition:left 0.5s ease-in-out;display:flex;align-items:flex-end;border-radius:12px;overflow:hidden;}
.slide.active{left:0;}
.slide img{width:100%;height:100%;object-fit:cover;}
.slide-content{position:absolute;bottom:20px;left:20px;color:#fff;background:rgba(0,0,0,0.4);padding:16px;border-radius:6px;max-width:90%;}
.slide-content h2{margin:0;font-size:28px;}
.slide-content p{margin:4px 0 0;font-size:14px;}

/* NEWS CARD */
.news-list{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:16px;margin:20px 0;}
.news-card{background:var(--card-bg);border-radius:12px;overflow:hidden;box-shadow:var(--card-shadow);cursor:pointer;transition:0.3s;display:flex;flex-direction:column;}
.news-card:hover{transform:translateY(-3px);box-shadow:0 12px 24px rgba(0,0,0,0.1);}
.news-card img{width:100%;height:160px;object-fit:cover;}
.news-card-content{padding:12px;}
.news-card-content h3{font-size:16px;margin:0 0 6px;line-height:1.3;color:var(--text);}
.news-card-content span{font-size:12px;color:#64748b;border-top:2px solid var(--primary);display:block;padding-top:6px;margin-top:6px;}

/* CATEGORY BOX */
.categories-section{margin:40px 0;}
.categories-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:18px;}
.category-box{background:linear-gradient(135deg,#ffffff,#f4f8fb);border:1px solid #e3edf5;border-radius:14px;padding:12px;box-shadow:var(--card-shadow);position:relative;overflow:hidden;transition:0.25s;}
.category-box::before{content:"";position:absolute;top:0;left:0;width:100%;height:4px;background:linear-gradient(to right,var(--highlight),#42a5f5);}
.category-box img{width:100%;height:120px;object-fit:cover;border-radius:8px;margin-bottom:8px;}
.category-box:hover{transform:translateY(-5px);box-shadow:0 12px 28px rgba(11,60,93,0.15);}
.category-box h3{font-size:17px;color:var(--highlight);margin-bottom:6px;}
.category-box strong{display:block;font-size:15px;margin-bottom:6px;color:#222;}
.category-box p{font-size:14px;color:#555;line-height:1.4;}
.category-box a{text-decoration:none;color:inherit;display:block;}

/* PROVINCES */
.provinces{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px;margin:20px 0;}
.provinces a{background:#e0ebff;color:var(--primary);padding:10px;text-align:center;border-radius:8px;font-size:14px;font-weight:600;transition:0.2s;}
.provinces a:hover{background:#c6dcff;}

/* CURRENCY CARD */
.currency-card{background:#fff;border-top:3px solid var(--primary);padding:12px 16px;border-radius:8px;width:100%;max-width:360px;margin:20px auto;box-shadow:var(--card-shadow);}
.currency-item{display:flex;justify-content:space-between;margin-bottom:6px;font-weight:600;}

/* FOOTER */
footer{background:var(--dark);color:#aaa;padding:20px;text-align:center;font-size:13px;}

/* BREAKING NEWS */
.breaking-news-container{width:100%;background:var(--dark);overflow:hidden;white-space:nowrap;border-top:3px solid var(--primary);border-bottom:3px solid var(--primary);padding:8px 0;}
.breaking-news{display:inline-block;color:#00aaff;font-weight:600;font-size:16px;position:relative;left:100%;animation:marquee 15s linear infinite;}
.breaking-news:hover{animation-play-state:paused;}
@keyframes marquee{0%{left:100%}100%{left:-100%}}
</style>
</head>
<body>

<!-- LOADING -->
<div id="loading-screen"><div class="x-loader">X</div></div>

<!-- ADSENSE SCRIPT -->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1201412624479751" crossorigin="anonymous"></script>

<header>
  <div class="logo">Gündem<span>X</span></div>
  <div class="social-header">
    <a href="hava-durumu.html" class="social-link">Hava Durumu</a>
    <a href="biyografiler.html" class="social-link">Biyografiler</a>
  </div>
  <div class="breaking-news-container">
    <div class="breaking-news" id="breakingNews"></div>
  </div>
  <nav>
    <a href="index.html">Gündem</a>
    <a href="il.html">Siyaset</a>
    <a href="il.html">Halkın Sesi</a>
    <a href="il.html">Gençlik</a>
    <a href="index.html#analiz">Analiz</a>
  </nav>
</header>

<!-- SLIDER -->
<div class="top-slider" id="top-slider"></div>

<!-- SON 5 HABER -->
<div class="grid">
  <div>
    <div class="box">
      <h2>Son Haberler</h2>
      <div class="news-list" id="news-container"></div>
    </div>
  </div>
</div>

<!-- REKLAM ALANI (ADSENSE) -->
<div style="margin:20px auto; text-align:center;">
  <ins class="adsbygoogle"
       style="display:block"
       data-ad-client="ca-pub-1201412624479751"
       data-ad-slot="1234567890"
       data-ad-format="auto"
       data-full-width-responsive="true"></ins>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

<!-- KATEGORİLER -->
<section class="categories-section">
  <h2>Kategoriler</h2>
  <div class="categories-grid" id="categoriesGrid"></div>
</section>

<!-- İLLER -->
<div class="box">
  <h2>İller</h2>
  <div class="provinces" id="province-list"></div>
</div>

<!-- DÖVİZ -->
<div class="currency-card">
  <div class="currency-item"><span>USD</span> <span id="usd">--</span> TL</div>
  <div class="currency-item"><span>EUR</span> <span id="eur">--</span> TL</div>
  <div class="currency-item"><span>GBP</span> <span id="gbp">--</span> TL</div>
</div>

<footer>
  <a href="about.html">Hakkımızda</a> |
  <a href="privacy.html">Gizlilik Politikası</a> |
  <a href="contact.html">İletişim</a><br>
  © 2025 GündemX – Gündeme Net Bakış<br>
  Tarafsız • Halk Odaklı • Sade Habercilik
</footer>

<script>
// LOADING
window.addEventListener("load",()=>{
  setTimeout(()=>{
    const l=document.getElementById("loading-screen");
    l.style.opacity="0";
    setTimeout(()=>l.style.display="none",300);
  },500);
});

// DÖVİZ
async function getCurrencies(){
  try{
    const res = await fetch("https://open.er-api.com/v6/latest/TRY");
    const data = await res.json();
    document.getElementById("usd").innerText = (1 / data.rates.USD).toFixed(2);
    document.getElementById("eur").innerText = (1 / data.rates.EUR).toFixed(2);
    document.getElementById("gbp").innerText = (1 / data.rates.GBP).toFixed(2);
  }catch(e){ console.error("Döviz alınamadı", e); }
}
getCurrencies(); setInterval(getCurrencies,60000);

// SLIDER ve HABERLER
async function loadNews(){
  try{
    const res = await fetch("data/news.json?t="+Date.now());
    const newsList = await res.json();
    const sorted = newsList.sort((a,b)=>b.id - a.id);

    // SLIDER
    const slider = document.getElementById("top-slider"); slider.innerHTML="";
    sorted.slice(0,2).forEach(item=>{
      const slide = document.createElement("div"); slide.className="slide";
      slide.innerHTML = `<img src="${item.image}" alt="${item.title}">
        <div class="slide-content"><h2>${item.title}</h2><p>${item.city} • ${item.time}</p></div>`;
      slider.appendChild(slide);
    });
    const slides = slider.querySelectorAll('.slide'); let current=0;
    function showSlide(i){slides.forEach(s=>s.classList.remove('active'));slides[i].classList.add('active');}
    showSlide(current); setInterval(()=>{current=(current+1)%slides.length;showSlide(current);},4000);

    // SON 5 HABER
    const newsContainer = document.getElementById("news-container"); newsContainer.innerHTML="";
    sorted.slice(0,5).forEach(item=>{
      const card = document.createElement('div'); card.className='news-card';
      card.innerHTML = `<img src="${item.image}" alt="${item.title}">
        <div class="news-card-content"><h3>${item.title}</h3><span>${item.city} • ${item.time}</span></div>`;
      card.addEventListener('click',()=>{ window.location.href=`haber.html?id=${item.id}`; });
      newsContainer.appendChild(card);
    });

    // BREAKING NEWS
    const latestNews = sorted[0];
    document.getElementById('breakingNews').innerText = "SON HABER: " + latestNews.title;

    // KATEGORİLER
    const categories = ["Gündem","Siyaset","Ekonomi","Trafik","Türkiye Geneli"];
    const grid = document.getElementById("categoriesGrid");
    categories.forEach(cat=>{
      const latest = sorted.filter(n=>n.category===cat).sort((a,b)=>b.id-b.id)[0];
      if(!latest) return;
      const shortText = latest.content.length>80?latest.content.substring(0,80)+"...":latest.content;
      grid.innerHTML += `<div class="category-box">
        <a href="category.html?category=${encodeURIComponent(cat)}">
          <img src="${latest.image}" alt="${latest.title}">
          <h3>${cat}</h3>
          <strong>${latest.title}</strong>
          <p>${shortText}</p>
        </a>
      </div>`;
    });

  }catch(err){
    console.error("Haberler yüklenemedi",err);
    document.getElementById("news-container").innerHTML="<p>Haberler yüklenemedi.</p>";
  }
}
loadNews();

// İLLER
const provinces = ["Adana","Adıyaman","Afyonkarahisar","Ağrı","Amasya","Ankara","Antalya","Artvin","Aydın","Balıkesir","Bilecik","Bingöl","Bitlis","Bolu","Burdur","Bursa","Çanakkale","Çankırı","Çorum","Denizli","Diyarbakır","Edirne","Elazığ","Erzincan","Erzurum","Eskişehir","Gaziantep","Giresun","Gümüşhane","Hakkari","Hatay","Isparta","Mersin","İstanbul","İzmir","Kars","Kastamonu","Kayseri","Kırklareli","Kırşehir","Kocaeli","Konya","Kütahya","Malatya","Manisa","Kahramanmaraş","Mardin","Muğla","Muş","Nevşehir","Niğde","Ordu","Rize","Sakarya","Samsun","Siirt","Sinop","Sivas","Tekirdağ","Tokat","Trabzon","Tunceli","Şanlıurfa","Uşak","Van","Yozgat","Zonguldak","Aksaray","Bayburt","Karaman","Kırıkkale","Batman","Şırnak","Bartın","Ardahan","Iğdır","Yalova","Karabük","Kilis","Osmaniye","Düzce"];
const container = document.getElementById("province-list");
provinces.forEach(city=>{
  const a=document.createElement("a"); a.href="#"; a.dataset.city=city; a.textContent=city; container.appendChild(a);
});
document.querySelectorAll('#province-list a').forEach(a=>{
  a.addEventListener('click',()=>{ window.location.href=`il.html?id=${a.dataset.city}`; });
});
</script>
</body>
</html>