<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Haber Videoları</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: Arial, sans-serif; background: #000; color: #fff; overflow-x: hidden; }
  #videoContainer { width: 100vw; height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; position: relative; }
  video { width: 100%; height: 100vh; object-fit: cover; }
  #title { position: absolute; bottom: 20px; left: 20px; font-size: 20px; text-shadow: 2px 2px 5px #000; }
  .nav { position: absolute; top: 50%; width: 100%; display: flex; justify-content: space-between; transform: translateY(-50%); }
  .nav button { background: rgba(0,0,0,0.4); border: none; color: #fff; padding: 10px 20px; font-size: 18px; cursor: pointer; border-radius: 5px; }
</style>
</head>
<body>

<div id="videoContainer">
  <video id="video" autoplay muted playsinline></video>
  <div id="title"></div>
  <div class="nav">
    <button id="prevBtn">&#8593; Önceki</button>
    <button id="nextBtn">&#8595; Sonraki</button>
  </div>
</div>

<script>
let videos = [];
let currentIndex = 0;

// JSON'dan videoları çek
fetch('videos.json')
  .then(res => res.json())
  .then(data => {
    videos = data;
    loadVideo(currentIndex);
  });

const videoEl = document.getElementById('video');
const titleEl = document.getElementById('title');

// Video yükle
function loadVideo(index){
  const vid = videos[index];
  videoEl.src = vid.video;
  titleEl.textContent = vid.title;
  videoEl.play();
}

// Kaydırma butonları
document.getElementById('nextBtn').addEventListener('click', () => {
  if(currentIndex < videos.length -1){
    currentIndex++;
    loadVideo(currentIndex);
  }
});

document.getElementById('prevBtn').addEventListener('click', () => {
  if(currentIndex > 0){
    currentIndex--;
    loadVideo(currentIndex);
  }
});

// Dokunmatik mobil kaydırma
let startY = 0;
let endY = 0;

document.addEventListener('touchstart', e => { startY = e.touches[0].clientY; });
document.addEventListener('touchend', e => {
  endY = e.changedTouches[0].clientY;
  if(startY - endY > 50){ // yukarı kaydırma
    document.getElementById('nextBtn').click();
  } else if(endY - startY > 50){ // aşağı kaydırma
    document.getElementById('prevBtn').click();
  }
});
</script>

</body>
</html>